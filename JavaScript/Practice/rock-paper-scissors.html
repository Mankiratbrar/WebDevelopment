<!DOCTYPE html>
<html lang="en">
<head>
    <title>rock paper scissors</title>
</head>
<body>
    <button
    onclick="
        game('rock')
            
    ">rock</button>
    <button  onclick="
        game('paper')
            
    ">paper</button>
    <button  onclick="
    game('scissors')
        
    ">scissors</button>
    <button onclick="
        stats.win=0
        stats.loss=0
        stats.draw=0;
        localStorage.removeItem('score');
    ">reset score</button>
</body>
<script>

    let stats=JSON.parse(localStorage.getItem('score')) || {
        win :0,
        loss:0,
        draw:0
    }
    
    function game(userchoice) {
        const computerguess=pickComputermove()
        let result;

        if (userchoice == computerguess) {
            result="draw";
            
        } else if(userchoice ==="rock" && computerguess === "paper"){            
            result="loss"
            
        }else if(userchoice ==="rock" && computerguess === "scissors"){
            result="win"
          
        }
        
        else if(userchoice ==="paper" && computerguess === "rock"){
            result="win"
            
        }else if(userchoice ==="paper" && computerguess === "scissors"){
            result="loss"
            
        }

        else if(userchoice ==="scissors" && computerguess === "rock"){
            result="loss"
           
        }else if(userchoice ==="scissors" && computerguess === "paper"){
            result="win"
        }

        if (result=="win") {
            stats.win+=1
        }else if (result == "loss"){
            stats.loss+=1
        }else if (result == "draw"){
            stats.draw+=1
        }
        
        localStorage.setItem('score',JSON.stringify(stats))
        
        alert(`Your move : ${userchoice}\nComputer move : ${computerguess},\nResult : ${result}\nStats : Win(${stats.win}) loss(${stats.loss}) draw(${stats.draw}) `)

        console.log(stats)
    }

   

    function pickComputermove()
        {
            let computermove=' '
            let randomnumber=Math.random()

            if (randomnumber>=0 && randomnumber <=1/3) {
                computermove="rock";
            } else if(randomnumber>=1/3 && randomnumber <=2/3){
                computermove="paper"
            }
            else{
                computermove="scissors"
            }
            return computermove;
        }
</script>
</html>